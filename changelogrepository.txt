28/01/2020

Adriano said:

I made the changes suggested by Noelia to the source code.

Rémy made significant corrections in the documentation following Noelia's review.

21/01/2020

Rémy said:

This is a small update ( corrected typo in  new documentation for Weather_Plus). 
before: 
* Press NVDA+shift+ctrl+w to set a temporary city. 
* Press NVDA + shift + control + alt + w to open the Weather Plus settings dialog. 
* Set and Manage Your Cities... Displays or allows to set the current city from a list 
* Updated running sounds for the effect in conditions of only wind; * Now the sound of the wind can vary randomly. 
now: 
* Press NVDA+shift+control+w to set a temporary city. 
* Press NVDA+shift+control+alt+w to open the Weather Plus settings dialog. 
* Set and Manage Your Cities... - Displays or allows to set the current city from a list. 
* Updated running sounds for the effect in conditions of only wind; Now the sound of the wind can vary randomly. 

Thanks very much. 

07/01/2020

Adriano said:
The fixed source code is attached
@Zvonimir, 
This is to be added in the change chronology please:
# Version 7.4 # 
* Fixed a bug in a city search function.

04/12/2019
Weather_Plus correct string for future update
Note by Rémy:
I just made the same changes to the readme in English.

Adriano said:
I just only deleted the "s" in "informations" word in 3 strings, and now I'm like that:
"Read wind information"
"Read atmospherical information"
"Read astronomical information".

Thanks

02/12/2019
Weather_Plus correct string for future update
Adriano said:
Changed in setting window:
"informations" to "information".
Thanks

25/11/2019
Weather_Plus7.3 update #5
Adriano said:
Thanks for the last update #4, unfortunately the __init__.py file I sent you was still the old one.
Now I have attached the right one to you.
Excuse me for these setbacks, but in this period I am very busy with various programs and operating systems that I am arranging and I have gone a little haywire :p

Note by Rémy:
I updated last source code sent by Adriano.

24/11/2019
Weather_Plus7.3 update #4
I updated last source code and  added new six.py file sent by Adriano.

24/11/2019
Weather_Plus7.3 update #3
Adriano said:
Now it is really compatible with the nvda 2017 version :)
I had occasion to use nvda again with XP and so I realized that there were a couple of things to sort out from the library six type required for 2017.3 and wx.adv only if wx >= 4.
I like to be consistent with what I write.

20/11/2019
Weather_Plus7.3 update#1
Adriano said:
The nvda.it page has had a temporary problem but it has broken Weather_Plus during the automatic search for updates (for those who had this option enabled).
Now I have fixed this exception not expected.

Note by Rémy:
I added the changes 7.3 in readme.md file:

# Version 7.3 #
* Fixed unexpected bug in case of page not found while searching for updates.

Adriano added new string in source code (114 strings total).

25/09/2019
Weather_Plus7.2 added last modifications in sources sent by Adriano

24/09/2019
Weather_Plus7.2
Adriano said:
In light of the latest problems with new Weather_Plus users, I realized what the problem was and so here is the new version.

Can You also add these lines into readme.md please?
# Version 7.2 #
* Fixed bug after adding a city, if it is the first one entered it if you press ok button and restart the add-on.
* Now the progressdialog show again the time remaining and time elapsed.
* correct Italian translation in the help of the Rename button.

21/09/2019
Weather_Plus7.1 bug fixed #2

Weather_Plus7.1 bug fixed #1
The bug manifested itself by testing the d city option, now I corrected.

Weather_Plus 7.1 update documentation and version number:

* "Weather_searchkey"
Could you move it to the queue header which lists the files as in the example below?

# Note: your settings will be save in the file named: #

* "Weather.ini": startup settings of Weather Plus.
* "Weather.volumes": custom audio volume levels, regardless of the overall volume.
* "Weather.zipcodes": list of cities with their zip code and definitions.
* "Weather_searchkey": search key saved.

We change the version 7.1 and add in english:

# Version 7.1 #
* Fixed bug in Removeupdate() during addon restart if the file is set in read only.

* Weather_searchkey
remove from the change of 7.0!

19/09/2019
Weather_Plus 7.0 source code update #5

18/09/2019
Weather_Plus 7.0 source code update #4
Adriano said:
Sorry, fixed an unexpected bug

Weather_Plus 7.0 source code update #3 correct
Adriano said:
Sorry, I sent the old file.
@ Rèmy, if you can add in the readme, at the bottom where you listed the files generated by Weather_plus this line: 
"* Weather_searchkey"
is not even necessary to translate it.

Weather_Plus 7.0 source code update #3
Adriano said:
Added to the search field the automatic composition for initial of the inserted keys in the search window.
The search window now it's completed!
This is a small change will not to mention even in the readme, i i intend to manually update from link and the version will remain unchanged.
No new strings added.
So the addon will not signal this change.
I update the page as soon as you send me the updated package

07/09/2019
Weather_Plus7.0 source code update #3
Adriano said:
Improved search window, now it possible manage all the search key inserted, add, delete and save it from context menu.
Improved window opening control.
some little bugs fixed.
@ Rèmy, at your discretion if you want to add the changes that up to now I have included in the last emails.
If nobody wants to translate it for me then it's not a problem.

26/08/2019
Weather_Plus 7.0 update #2

Adriano said:
Please excuse me, i'm sorry, but I had not tested on py3, now it's fine!
The latest updated source code is attached.
I didn't add any more new strings and the compatibility is the same as the 6.9 version.

25/08/2019
Weather_Plus 7.0 update #1

Adriano said:
Improved explanations in help window and improved hide windows recall.
Modified some strings and added 2 new strings in the source code:

24/08/2019
Update compatibility in readme.md file by Adriano
NVDA compatibility: 2017.3 to 2019.1
with:
NVDA compatibility: 2017.3 to 2019.3

21/08/2019
Weather_Plus6.9 change #4

Adriano said:
Sorry I had to make a final change to the code, it was an old assignment of variabbile no longer used.

Corrected __init__.py and oauth.lib are in the addon.

18/08/2019
Weather_Plus6.9 upgraded code #2

Adriano said:
Last modify:
__init__.py and data.oauth
1. delete oaut.zip and replace with data.oauth
3. delete all oauth.pyc, oauth2.py,oauth2.pyo. 
4. replace __init__.py

17/08/2019
Weather_Plus6.9 upgraded code #1

Adriano said:

IMPORTANT!
@all, Please, I need a test with new nvda 2019.2and new nvda alpha portabble version, I absolutely need to know if it works with python27 and python37 on other machines before publishing an update.
From me everything works well in both versions of python and with all the latest versions of nvda (alpha, threshold etc.), please download a portable version of nvda alpha p3 and tell me if everything works properly.

12/08/2019
Weather_Plus6.9

Adriano said:

Considering that whenever nvda is updated, all .pyc and .pyo files are deleted, I made a change.
To update Weather_Plus:
1. remove all oauth.pyc, oauth2.pyc, oauth2.pyo files from addon, with constructt, now they can be deleted.
2. extract the archive in:
%appdata%\nvda\addons\Weather_Plus\globalPlugins\Weather_Plus\
that is, in the same location where the files that I said to delete resided.
Changes:
At each reboot of the addon, if the oauth.pyc, .pyo files are no longer present or deleted, they are automatically restored.
The archive contain 2 file:
__init__.py version 6.9
oauth.zip (this archive must remain zipped!)

Please send me the addon with the updated translations.

I forgot this ...
Please change in the manifest:
lastTestedNVDAVersion = 2019.4
in:
lastTestedNVDAVersion = 2019.3

07/07/2019
Weather_Plus6.8
Adriano said:
Important changes in 6.8 version:
• Removed platform.py;
It needed addiction of Win32con: gone in latest Threshold snapshots, and it won’t come back;
Replaced with sys.plattform in pybass.py.
• renamed oauth.pyc and oauth.pyo in: oauth2.pyc and oauth2.pyo #imported for python 2
• added hmac2.py #imported for python 2
• added oauth.pyc #imported for python 3
• Updated __init__.py
• updated pybass.py
• updated hmac.py
• updated flag: lastTestedNVDAVersion = 2019.4 necessary for the branches below;
nvda_snapshot_threshold and nvda_snapshot_threshold_py3_staging.
IMPORTANT DO NOT CANCEL:
oauth.pyc, oauth2.pyc, oauth2.pyo
No new strings have been added to the code

21/06/2019
Weather_Plus6.7 update #2
Adriano said:
Fixed a bug.

Updated Weather_Plus to version 6.7.
Weather_Plus6.7 update #1
Adriano said:
I added a country acronym to the database:
'South Georgia and the South Sandwich Islands': 'GS'.
It is not necessary to add this type of updates to changes.
Can you also correct the translations as I explained earlier and then send me the package?

17/06/2019
Adriano said:
@Rémy, ok, let's remove it.
Removed from the documentation readme.md the line where the version number is announced:
* Version: 6.6.

Updated Weather_Plus to version 6.6.
Adriano said:
@Abdel, I could do the update, but I have to increase the version to 6.6.
Can you do it please?

08/06/2019
Weather_Plus6.5 source updated #6
Adriano said:
Thanks for report, now is fixed.

Weather_Plus6.5 source updated #5
Adriano said:
I wanted to wait until next Friday, but from what you tell me then it's the case to publish the update now, but I made a small change to the code, can you redo the package please?
in attachment the last code.
I only initialized a variable to wipe out a potential nameError in the case of Yahoo returning me a wrong or null "pubdate", with Yahoo you never know.

07/06/2019
Adriano said:
So out of curiosity, if you want to see a couple of cities with the Yahoo bug, try the previous source code before the patch and then the patch, with watch the 10-day forecast:
12577885 or 1968222

Abdel just added the correction made by Noelia for the Danish and Finnish languages.
He said:
You must merge these fixes as follow:

git status for checking your current branch, if it's not stable, git checkout stable to switch to stable.
git pull origin stable to import the Danish and Finnish fixes.

06/06/2019
Weather_Plus6.5 source updated #4
Adriano updated the __init__.py module.
He said:
Peter Alada reported this to me, I reported it to the Yahoo Weather team, but in the meantime I got a patch :)
Can you also add these lines in readme please?
[italian]
* Corretto un bug nelreport di Yahoo Weather Forecast;
	* In alcune città le previsioni partono dal giorno precedente e non da quello attuale.
* La correzione di queste città comporta la perdita degli ultimi giorni di previsione proporzionale alla mancata corrispondenza delle date (se i giorni di previsione sono impostati su 10).

[inglish]
* Fixed a bug in the Yahoo Weather Forecast report;
	* In some cities the forecasts start from the previous day and not from the current one.
	* The correction of these cities entails the loss of the last days of forecast proportionate to the mismatch of dates (if the forecast days are set to 10).

In attachment the new source code.
Don't You worry, dhey have not been added new strings in the code.
I hope you can resolve conflicts with this document.

05/06/2019
Weather_Plus6.5 source updated #3
Adriano updated the __init__.py module.
He said:
Can you add any 2 lines in the version 6.5 readme changes please?
[italian]
* Corretti un paio di bug nella riproduzione degli effetti sonori;
	* un paio di cicli "for" con valore massimo errato causavano la chiamata ad un effetto sonoro inesistente.
[inglish]
* Fixed a couple of bugs in sound effects reproduction;
	* a couple of "for" cycles with incorrect maximum values caused the call to a non-existent sound effect.

In attachment the source code.
No string has changed in the file.

	29/05/2019
Adriano made a little update on the __init__.py module.
He said:
I just fixed a little part about python 3.7 compatibility.
Everything else is unchanged, the strings are like before.

28/05/2019
Adriano updated the __init__.py module.
He said:
Code in attachment!
I've only optimized few line,deeI haven't changed any string in the code, you don't have to worry
To next Friday :)

Weather__Plus 6.5 update
Adriano sayd:
I fixed the last bug (I hope) really be the last one.)
I corrected a string in the code and I also corrected it in the locale/it, and updated in the 6.5 version.
Added the following lines in the readme 'en' and 'it', and changed to 6.5.
[it]
* Versione: 6.5.
# Versione 6.5 #
* Corretto bug nell'ora locale in "dettagli";
    * La conversione del tempo in 12 ore dava un errore.
[en]
* Version: 6.5.

# Version 6.5 #
* Fixed bug in local time in "details";
    * 12-hour time conversion gave a error.

23/05/2019
# Changes #4 in the repository by Rémy Ruiz #
Corrected in readme.md file by Adriano:
* Removed daily saving time function in details;
in:
* Daylight saving time removed in the "Details" function;

# Changes #3 in the repository by Rémy Ruiz #
I removed in dateutil folder, the .pyo, if it recreates it by itself.
Removed also the installTask.py because the author judges it useless.
command to send the file to the stable branch of the repository:
git status
or
git checkout stable
git add .
git commit -a -m "Added the dateutil folder"

Thanks to Abdel.

Weather__Plus 6.4 update
Adriano said:
You may not have noticed, but for some days the local time in the cities is no longer working ...
Changes in add-on:
readme.md (en)
Changed version number (en):
* Version: 6.4.
Removed line (en):
* [https://www.timeanddate.com/](https://www.timeanddate.com/)
Added lines (en):
# Version 6.4 #
* Removed daily saving time function in details;
	* The service used by this function has changed, so it has been removed.
* Improved audio effects reproduction;
	* Now they update regularly if the weather conditions change.

Note by Adriano:
All the remaining doc locations must be updated as described above.
Some strings have been removed from the code(daylight savings time, etc), therefore all nvda.po files must be updated.

I also forgot to advise that in Weather_plus I added the "dateutil" folder to remedy the service I had to remove
For reasons of space the library contains only what is needed to calculate the timezone, otherwise it alone weighed more than 600kb.

# Changes #2 in the repository by Rémy Ruiz #
Changed in buildVars.py file version number:
6.3 to 6.4

I just replaced the files sent by Adriano with his modifications, and I added the folder mentioned above.

Added the information mentioned above in the readme.md file in English, and corrected some typographical errors.

14.05.2019
Modified sconstruct file by Abdel.
The sconstruct file i have does not include the command to copy the readme.md file to the doc / en directory.
I just have to replace the one i have in the root of your local repo. 

This done, execute the following commands: 

git commit -a -m "Fixed the sconstruct file so that the scons command can copy the English readme.md file to the doc / en directory"
git push -u origin master

Now everything works fine.
Thanks to Abdel.

13-10-2019
Added: new __init__.py file sent by Adriano for version 6.3
Changes all number version in files sources.
Added: in readme.md file in english the information sent by Adriano on the changes made in version 6.3:

# What's new: #

# Version 6.3 #
* Fixed the character encoding in the search results window.
* Fixed the encoding also in the detail report.

Added: in readme.md file in english the information sent by Adriano on the changes made in version 6.2:

# What's new: #

# Version 6.2 #
* Fixed bug in the "Add" function.
* Fixed bug that did not assign the variable "_volume" when starting the addon.
* Added missing code from version 6.0;
	* Now you can recover the saved cities from the version that uses the Apixu API;
	* The "Test" and "Remove" buttons and non-compatible cities are available in the format: "Ferrara, iter 44.83,11.58 0" (city, geographic coordinates, area definition).

10-05-2019
I have updated the changelogrepository file with the good information made yesterday about the .gitignore file.
09-05-2019
I just have to pass this .gitignore  file modified to Abdel to the root of my local repo and confirm the replacement.
That will allow to me be able to author my 2 files "oauth.pyc" and "oauth.pyc" during my next commits.
If the files oauth.pyc and oauth.pyo are present in my local repo, i juste have to do the following commands. 

git add .
git commit -a -m "Corrected the .gitignore file"
git push -u origin master

Now everything works fine.
Thanks to Abdel.

Added sconstruct file.

Renamed this file
changelog.txt
by:
changelogrepository.txt
for a better compression, and not to think that it is the changes in the part of the changes that are in the file readme.md of the addon Weather_Plus.

Added: Weather_Plus.pot file
for the version 6.2 including the modifications in the number of Version in the sources files.

Corrected all nvda.po files in locale with the good number version 6.1 to 6.2.
"Project-Id-Version: Weather_Plus 6.1\n"
by:
"Project-Id-Version: Weather_Plus 6.2\n"

Added new Weather_Plus6.2included last modifications in sources

08-05-2019
# Download Weather_Plus6.1 last version by Adriano #
Note please: I have just updated to 6.2 version.
I added a piece of code that strangely with all the passages and was lost and that allowed to recover the cities created with Apixu.
I also added the "Palestine" state which a user sent me via a function which I introduced in the add-on and which signals unregistered states.
http://www.nvda.it/files/plugin/weather_plus6.2.nvda-addon
@Joseph, I tested it withnvdapy37-20190228, it's ok.

# Changes #2 in the repository by Rémy Ruiz #
Changed in buildVars.py file version number:
6.1 to 6.2

Added new __init__.py file for Weather_Plus6.2 changed tonight by Adriano.

Changed in readme.md file version number:
* Version: 6.1.
by
* Version: 6.2.

Changed in others readme.md files for each language version number:
* Version: 6.1.
by
* Version: 6.2.

Changed in installTasks.py file version number:
#Version 6.1
by:
#Version 6.2

# Changes #1 in the repository by Rémy Ruiz #
Changed in all nvda.po files version number:
"Project-Id-Version: Weather_Plus 6.0\n"
by
"Project-Id-Version: Weather_Plus 6.1\n"

Changed in __init__.py file version number:
#Version 6.0 - python 3 compatible
by:
#Version 6.1 - python 3 compatible

Changed in readme.md file version number:
* Version: 6.0.
by
* Version: 6.1.

Added:

# Version 6.1 #
* Fixed 2 bugs.

Modified and Added in others readme.md files for each languages ((including its translation).

Changed in installTasks.py file version number:
#Version 6.0
by:
#Version 6.1